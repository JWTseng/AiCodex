<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Test - Classic TETRIS (Web)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .test-result { padding: 10px; margin: 10px 0; border-radius: 5px; }
    .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
  </style>
</head>
<body>
  <h1>俄罗斯方块游戏测试</h1>
  
  <div id="test-results">
    <div class="test-result info">正在测试游戏功能...</div>
  </div>

  <script>
    function addTestResult(message, type = 'info') {
      const results = document.getElementById('test-results');
      const div = document.createElement('div');
      div.className = `test-result ${type}`;
      div.textContent = message;
      results.appendChild(div);
    }

    // 测试基本功能
    function runTests() {
      addTestResult('开始测试...', 'info');
      
      // 测试1: 检查主要文件是否存在
      fetch('main.js')
        .then(response => {
          if (response.ok) {
            addTestResult('✅ main.js 文件加载成功', 'success');
          } else {
            addTestResult('❌ main.js 文件加载失败', 'error');
          }
        })
        .catch(error => {
          addTestResult(`❌ main.js 加载错误: ${error.message}`, 'error');
        });

      // 测试2: 检查样式文件
      fetch('styles.css')
        .then(response => {
          if (response.ok) {
            addTestResult('✅ styles.css 文件加载成功', 'success');
          } else {
            addTestResult('❌ styles.css 文件加载失败', 'error');
          }
        })
        .catch(error => {
          addTestResult(`❌ styles.css 加载错误: ${error.message}`, 'error');
        });

      // 测试3: 检查HTML结构
      setTimeout(() => {
        const board = document.getElementById('board');
        if (board) {
          addTestResult('✅ 游戏画布元素存在', 'success');
        } else {
          addTestResult('❌ 游戏画布元素不存在', 'error');
        }
      }, 1000);
    }

    // 页面加载完成后运行测试
    window.addEventListener('load', runTests);
  </script>

  <iframe src="index.html" width="100%" height="600" style="border: 1px solid #ccc; margin-top: 20px;"></iframe>
</body>
</html>
