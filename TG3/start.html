<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLASSIC NES TETRIS - LAUNCHER</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0f380f 0%, #306230 50%, #8bac0f 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            image-rendering: pixelated;
        }
        
        .launcher-container {
            background: rgba(15, 56, 15, 0.9);
            border: 4px solid #8bac0f;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 0 30px rgba(139, 172, 15, 0.5);
            max-width: 600px;
            width: 90%;
        }
        
        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #9bbc0f;
            text-shadow: 3px 3px 0px #0f380f;
            margin-bottom: 20px;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #8bac0f;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }
        
        .description {
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #ffffff;
            text-align: left;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature {
            background: rgba(139, 172, 15, 0.2);
            border: 2px solid #8bac0f;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-weight: bold;
            color: #9bbc0f;
            margin-bottom: 5px;
        }
        
        .feature-desc {
            font-size: 0.9em;
            color: #ffffff;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            background: #306230;
            color: #ffffff;
            border: 3px solid #8bac0f;
            border-radius: 8px;
            padding: 15px 25px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn:hover {
            background: #8bac0f;
            color: #0f380f;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 172, 15, 0.4);
        }
        
        /* 音频控制样式 */
        .audio-controls {
            background: rgba(15, 56, 15, 0.8);
            border: 2px solid #8bac0f;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .audio-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #9bbc0f;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .audio-control {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 5px 0;
        }
        
        .audio-control label {
            color: #ffffff;
            font-size: 0.9em;
            min-width: 80px;
            text-align: left;
        }
        
        .volume-slider {
            flex: 1;
            margin: 0 10px;
            height: 6px;
            background: #306230;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #8bac0f;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #9bbc0f;
        }
        
        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #8bac0f;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #9bbc0f;
        }
        
        .audio-control span {
            color: #9bbc0f;
            font-size: 0.8em;
            font-weight: bold;
            min-width: 40px;
            text-align: right;
        }
        
        .audio-toggles {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .toggle-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: #ffffff;
            font-size: 0.9em;
        }
        
        .toggle-label input[type="checkbox"] {
            display: none;
        }
        
        .toggle-text {
            padding: 8px 15px;
            background: #306230;
            border: 2px solid #8bac0f;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .toggle-label input[type="checkbox"]:checked + .toggle-text {
            background: #8bac0f;
            color: #0f380f;
            font-weight: bold;
        }
        
        .toggle-label:hover .toggle-text {
            background: #8bac0f;
            color: #0f380f;
        }
        
        .btn-primary {
            background: #8bac0f;
            color: #0f380f;
        }
        
        .btn-primary:hover {
            background: #9bbc0f;
            color: #ffffff;
        }
        
        .controls-info {
            background: rgba(139, 172, 15, 0.1);
            border: 2px solid #8bac0f;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            text-align: left;
        }
        
        .controls-title {
            font-weight: bold;
            color: #9bbc0f;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .control-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
        }
        
        .control-key {
            background: #306230;
            color: #9bbc0f;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .control-action {
            color: #ffffff;
        }
        
        .footer {
            margin-top: 30px;
            font-size: 0.9em;
            color: #8bac0f;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .launcher-container {
                padding: 20px;
                margin: 20px;
            }
            
            .title {
                font-size: 2em;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        /* 动画效果 */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .title {
            animation: pulse 2s infinite;
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 30px rgba(139, 172, 15, 0.5); }
            50% { box-shadow: 0 0 50px rgba(139, 172, 15, 0.8); }
        }
        
        .launcher-container {
            animation: glow 3s infinite;
        }
    </style>
</head>
<body>
    <div class="launcher-container">
        <h1 class="title">NES俄罗斯方块</h1>
        <p class="subtitle">经典复刻版 - 1989年原版体验</p>
        
        <div class="description">
            这是一个忠实复刻1989年任天堂娱乐系统(NES)北美(NTSC)版《俄罗斯方块》的网页游戏。
            严格按照原版游戏的物理机制、时序系统和得分公式进行开发，重现原版游戏的独特"手感"。
        </div>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">🎮</div>
                <div class="feature-title">精确复刻</div>
                <div class="feature-desc">任天堂旋转系统<br>无墙踢机制</div>
            </div>
            <div class="feature">
                <div class="feature-icon">⚡</div>
                <div class="feature-title">原始时序</div>
                <div class="feature-desc">DAS系统<br>ARE延迟</div>
            </div>
            <div class="feature">
                <div class="feature-icon">🎯</div>
                <div class="feature-title">经典得分</div>
                <div class="feature-desc">原始公式<br>等级倍数</div>
            </div>
            <div class="feature">
                <div class="feature-icon">🎨</div>
                <div class="feature-title">复古美学</div>
                <div class="feature-desc">NES调色板<br>像素艺术</div>
            </div>
        </div>
        
        <div class="buttons">
            <a href="index.html" class="btn btn-primary">START GAME</a>
            <a href="audio-test.html" class="btn">AUDIO TEST</a>
            <a href="music-test.html" class="btn">MUSIC TEST</a>
            <a href="canvas-test.html" class="btn">CANVAS TEST</a>
            <a href="test.html" class="btn">FUNCTION TEST</a>
            <a href="README.md" class="btn">README</a>
        </div>
        
        <div class="audio-controls">
            <div class="audio-title">🎵 AUDIO SETTINGS</div>
            <div class="audio-control">
                <label>MASTER VOLUME:</label>
                <input type="range" id="masterVolume" min="0" max="100" value="30" class="volume-slider">
                <span id="masterVolumeValue">30%</span>
            </div>
            <div class="audio-control">
                <label>MUSIC VOLUME:</label>
                <input type="range" id="musicVolume" min="0" max="100" value="30" class="volume-slider">
                <span id="musicVolumeValue">30%</span>
            </div>
            <div class="audio-control">
                <label>SFX VOLUME:</label>
                <input type="range" id="sfxVolume" min="0" max="100" value="80" class="volume-slider">
                <span id="sfxVolumeValue">80%</span>
            </div>
            <div class="audio-toggles">
                <label class="toggle-label">
                    <input type="checkbox" id="musicToggle">
                    <span class="toggle-text">MUSIC</span>
                </label>
                <label class="toggle-label">
                    <input type="checkbox" id="sfxToggle" checked>
                    <span class="toggle-text">SFX</span>
                </label>
            </div>
        </div>
        
        <div class="controls-info">
            <div class="controls-title">GAME CONTROLS</div>
            <div class="control-row">
                <span class="control-key">← →</span>
                <span class="control-action">MOVE LEFT/RIGHT</span>
            </div>
            <div class="control-row">
                <span class="control-key">↓</span>
                <span class="control-action">SOFT DROP</span>
            </div>
            <div class="control-row">
                <span class="control-key">Enter</span>
                <span class="control-action">START GAME</span>
            </div>
            <div class="control-row">
                <span class="control-key">A</span>
                <span class="control-action">ROTATE CW</span>
            </div>
            <div class="control-row">
                <span class="control-key">B</span>
                <span class="control-action">ROTATE CCW</span>
            </div>
            <div class="control-row">
                <span class="control-key">Space</span>
                <span class="control-action">PAUSE/RESUME/START</span>
            </div>
            <div class="control-row">
                <span class="control-key">R</span>
                <span class="control-action">RESET GAME</span>
            </div>
        </div>
        
        <div class="footer">
            <p>拥抱NES时代的限制，重现1989年的经典体验</p>
            <p>基于原版任天堂娱乐系统(NES)北美(NTSC)版本</p>
        </div>
    </div>
    
    <script src="audio.js"></script>
    <script>
        // 添加一些交互效果
        document.addEventListener('DOMContentLoaded', () => {
            console.log('NES俄罗斯方块启动页面已加载');
            
            // 初始化音频系统
            const audio = new NESTetrisAudio();
            
            // 音频控制功能
            bindAudioControls(audio);
            
            // 添加按钮点击音效（模拟）
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // 可以在这里添加音效
                    console.log('按钮点击:', btn.textContent);
                });
            });
            
            // 添加键盘快捷键
            document.addEventListener('keydown', (e) => {
                switch(e.code) {
                    case 'Enter':
                        if (e.ctrlKey) {
                            e.preventDefault();
                            window.open('index.html', '_blank');
                        }
                        break;
                    case 'KeyT':
                        if (e.ctrlKey) {
                            e.preventDefault();
                            window.open('test.html', '_blank');
                        }
                        break;
                }
            });
        });
        
        // 音频控制绑定函数
        function bindAudioControls(audio) {
            // 主音量控制
            const masterVolumeSlider = document.getElementById('masterVolume');
            const masterVolumeValue = document.getElementById('masterVolumeValue');
            
            masterVolumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.setMasterVolume(volume);
                masterVolumeValue.textContent = e.target.value + '%';
            });
            
            // 音乐音量控制
            const musicVolumeSlider = document.getElementById('musicVolume');
            const musicVolumeValue = document.getElementById('musicVolumeValue');
            
            musicVolumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.setMusicVolume(volume);
                musicVolumeValue.textContent = e.target.value + '%';
            });
            
            // 音效音量控制
            const sfxVolumeSlider = document.getElementById('sfxVolume');
            const sfxVolumeValue = document.getElementById('sfxVolumeValue');
            
            sfxVolumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.setSFXVolume(volume);
                sfxVolumeValue.textContent = e.target.value + '%';
            });
            
            // 音乐开关
            const musicToggle = document.getElementById('musicToggle');
            musicToggle.addEventListener('change', (e) => {
                audio.toggleMusic(e.target.checked);
                updateMusicToggleStatus(e.target.checked);
            });
            
            // 音效开关
            const sfxToggle = document.getElementById('sfxToggle');
            sfxToggle.addEventListener('change', (e) => {
                audio.toggleSFX(e.target.checked);
            });
            
            // 初始化音频设置
            initializeAudioSettings(audio);
        }
        
        // 初始化音频设置
        function initializeAudioSettings(audio) {
            // 设置默认音量
            audio.setMasterVolume(0.3); // 30%
            audio.setMusicVolume(0.3);  // 30%
            
            // 设置音乐为关闭状态
            const musicToggle = document.getElementById('musicToggle');
            audio.toggleMusic(false);
            updateMusicToggleStatus(false);
        }
        
        // 更新音乐开关状态显示
        function updateMusicToggleStatus(enabled) {
            const musicToggle = document.getElementById('musicToggle');
            const musicLabel = musicToggle.nextElementSibling;
            
            if (enabled) {
                musicLabel.textContent = 'MUSIC ON';
                musicLabel.style.background = '#8bac0f';
                musicLabel.style.color = '#0f380f';
            } else {
                musicLabel.textContent = 'MUSIC OFF';
                musicLabel.style.background = '#306230';
                musicLabel.style.color = '#ffffff';
            }
        }
    </script>
</body>
</html>
