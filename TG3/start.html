<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLASSIC NES TETRIS - LAUNCHER</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0f380f 0%, #306230 50%, #8bac0f 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            image-rendering: pixelated;
        }
        
        .launcher-container {
            background: rgba(15, 56, 15, 0.9);
            border: 4px solid #8bac0f;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 0 30px rgba(139, 172, 15, 0.5);
            max-width: 600px;
            width: 90%;
        }
        
        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #9bbc0f;
            text-shadow: 3px 3px 0px #0f380f;
            margin-bottom: 20px;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #8bac0f;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }
        
        .description {
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #ffffff;
            text-align: left;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature {
            background: rgba(139, 172, 15, 0.2);
            border: 2px solid #8bac0f;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-weight: bold;
            color: #9bbc0f;
            margin-bottom: 5px;
        }
        
        .feature-desc {
            font-size: 0.9em;
            color: #ffffff;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            background: #306230;
            color: #ffffff;
            border: 3px solid #8bac0f;
            border-radius: 8px;
            padding: 15px 25px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn:hover {
            background: #8bac0f;
            color: #0f380f;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 172, 15, 0.4);
        }
        
        /* éŸ³é¢‘æ§åˆ¶æ ·å¼ */
        .audio-controls {
            background: rgba(15, 56, 15, 0.8);
            border: 2px solid #8bac0f;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .audio-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #9bbc0f;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .audio-control {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 5px 0;
        }
        
        .audio-control label {
            color: #ffffff;
            font-size: 0.9em;
            min-width: 80px;
            text-align: left;
        }
        
        .volume-slider {
            flex: 1;
            margin: 0 10px;
            height: 6px;
            background: #306230;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #8bac0f;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #9bbc0f;
        }
        
        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #8bac0f;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #9bbc0f;
        }
        
        .audio-control span {
            color: #9bbc0f;
            font-size: 0.8em;
            font-weight: bold;
            min-width: 40px;
            text-align: right;
        }
        
        .audio-toggles {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .toggle-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: #ffffff;
            font-size: 0.9em;
        }
        
        .toggle-label input[type="checkbox"] {
            display: none;
        }
        
        .toggle-text {
            padding: 8px 15px;
            background: #306230;
            border: 2px solid #8bac0f;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .toggle-label input[type="checkbox"]:checked + .toggle-text {
            background: #8bac0f;
            color: #0f380f;
            font-weight: bold;
        }
        
        .toggle-label:hover .toggle-text {
            background: #8bac0f;
            color: #0f380f;
        }
        
        .btn-primary {
            background: #8bac0f;
            color: #0f380f;
        }
        
        .btn-primary:hover {
            background: #9bbc0f;
            color: #ffffff;
        }
        
        .controls-info {
            background: rgba(139, 172, 15, 0.1);
            border: 2px solid #8bac0f;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            text-align: left;
        }
        
        .controls-title {
            font-weight: bold;
            color: #9bbc0f;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .control-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
        }
        
        .control-key {
            background: #306230;
            color: #9bbc0f;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .control-action {
            color: #ffffff;
        }
        
        .footer {
            margin-top: 30px;
            font-size: 0.9em;
            color: #8bac0f;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .launcher-container {
                padding: 20px;
                margin: 20px;
            }
            
            .title {
                font-size: 2em;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .title {
            animation: pulse 2s infinite;
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 30px rgba(139, 172, 15, 0.5); }
            50% { box-shadow: 0 0 50px rgba(139, 172, 15, 0.8); }
        }
        
        .launcher-container {
            animation: glow 3s infinite;
        }
    </style>
</head>
<body>
    <div class="launcher-container">
        <h1 class="title">NESä¿„ç½—æ–¯æ–¹å—</h1>
        <p class="subtitle">ç»å…¸å¤åˆ»ç‰ˆ - 1989å¹´åŸç‰ˆä½“éªŒ</p>
        
        <div class="description">
            è¿™æ˜¯ä¸€ä¸ªå¿ å®å¤åˆ»1989å¹´ä»»å¤©å ‚å¨±ä¹ç³»ç»Ÿ(NES)åŒ—ç¾(NTSC)ç‰ˆã€Šä¿„ç½—æ–¯æ–¹å—ã€‹çš„ç½‘é¡µæ¸¸æˆã€‚
            ä¸¥æ ¼æŒ‰ç…§åŸç‰ˆæ¸¸æˆçš„ç‰©ç†æœºåˆ¶ã€æ—¶åºç³»ç»Ÿå’Œå¾—åˆ†å…¬å¼è¿›è¡Œå¼€å‘ï¼Œé‡ç°åŸç‰ˆæ¸¸æˆçš„ç‹¬ç‰¹"æ‰‹æ„Ÿ"ã€‚
        </div>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">ğŸ®</div>
                <div class="feature-title">ç²¾ç¡®å¤åˆ»</div>
                <div class="feature-desc">ä»»å¤©å ‚æ—‹è½¬ç³»ç»Ÿ<br>æ— å¢™è¸¢æœºåˆ¶</div>
            </div>
            <div class="feature">
                <div class="feature-icon">âš¡</div>
                <div class="feature-title">åŸå§‹æ—¶åº</div>
                <div class="feature-desc">DASç³»ç»Ÿ<br>AREå»¶è¿Ÿ</div>
            </div>
            <div class="feature">
                <div class="feature-icon">ğŸ¯</div>
                <div class="feature-title">ç»å…¸å¾—åˆ†</div>
                <div class="feature-desc">åŸå§‹å…¬å¼<br>ç­‰çº§å€æ•°</div>
            </div>
            <div class="feature">
                <div class="feature-icon">ğŸ¨</div>
                <div class="feature-title">å¤å¤ç¾å­¦</div>
                <div class="feature-desc">NESè°ƒè‰²æ¿<br>åƒç´ è‰ºæœ¯</div>
            </div>
        </div>
        
        <div class="buttons">
            <a href="index.html" class="btn btn-primary">START GAME</a>
            <a href="audio-test.html" class="btn">AUDIO TEST</a>
            <a href="music-test.html" class="btn">MUSIC TEST</a>
            <a href="canvas-test.html" class="btn">CANVAS TEST</a>
            <a href="test.html" class="btn">FUNCTION TEST</a>
            <a href="README.md" class="btn">README</a>
        </div>
        
        <div class="audio-controls">
            <div class="audio-title">ğŸµ AUDIO SETTINGS</div>
            <div class="audio-control">
                <label>MASTER VOLUME:</label>
                <input type="range" id="masterVolume" min="0" max="100" value="30" class="volume-slider">
                <span id="masterVolumeValue">30%</span>
            </div>
            <div class="audio-control">
                <label>MUSIC VOLUME:</label>
                <input type="range" id="musicVolume" min="0" max="100" value="30" class="volume-slider">
                <span id="musicVolumeValue">30%</span>
            </div>
            <div class="audio-control">
                <label>SFX VOLUME:</label>
                <input type="range" id="sfxVolume" min="0" max="100" value="80" class="volume-slider">
                <span id="sfxVolumeValue">80%</span>
            </div>
            <div class="audio-toggles">
                <label class="toggle-label">
                    <input type="checkbox" id="musicToggle">
                    <span class="toggle-text">MUSIC</span>
                </label>
                <label class="toggle-label">
                    <input type="checkbox" id="sfxToggle" checked>
                    <span class="toggle-text">SFX</span>
                </label>
            </div>
        </div>
        
        <div class="controls-info">
            <div class="controls-title">GAME CONTROLS</div>
            <div class="control-row">
                <span class="control-key">â† â†’</span>
                <span class="control-action">MOVE LEFT/RIGHT</span>
            </div>
            <div class="control-row">
                <span class="control-key">â†“</span>
                <span class="control-action">SOFT DROP</span>
            </div>
            <div class="control-row">
                <span class="control-key">Enter</span>
                <span class="control-action">START GAME</span>
            </div>
            <div class="control-row">
                <span class="control-key">A</span>
                <span class="control-action">ROTATE CW</span>
            </div>
            <div class="control-row">
                <span class="control-key">B</span>
                <span class="control-action">ROTATE CCW</span>
            </div>
            <div class="control-row">
                <span class="control-key">Space</span>
                <span class="control-action">PAUSE/RESUME/START</span>
            </div>
            <div class="control-row">
                <span class="control-key">R</span>
                <span class="control-action">RESET GAME</span>
            </div>
        </div>
        
        <div class="footer">
            <p>æ‹¥æŠ±NESæ—¶ä»£çš„é™åˆ¶ï¼Œé‡ç°1989å¹´çš„ç»å…¸ä½“éªŒ</p>
            <p>åŸºäºåŸç‰ˆä»»å¤©å ‚å¨±ä¹ç³»ç»Ÿ(NES)åŒ—ç¾(NTSC)ç‰ˆæœ¬</p>
        </div>
    </div>
    
    <script src="audio.js"></script>
    <script>
        // æ·»åŠ ä¸€äº›äº¤äº’æ•ˆæœ
        document.addEventListener('DOMContentLoaded', () => {
            console.log('NESä¿„ç½—æ–¯æ–¹å—å¯åŠ¨é¡µé¢å·²åŠ è½½');
            
            // åˆå§‹åŒ–éŸ³é¢‘ç³»ç»Ÿ
            const audio = new NESTetrisAudio();
            
            // éŸ³é¢‘æ§åˆ¶åŠŸèƒ½
            bindAudioControls(audio);
            
            // æ·»åŠ æŒ‰é’®ç‚¹å‡»éŸ³æ•ˆï¼ˆæ¨¡æ‹Ÿï¼‰
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ éŸ³æ•ˆ
                    console.log('æŒ‰é’®ç‚¹å‡»:', btn.textContent);
                });
            });
            
            // æ·»åŠ é”®ç›˜å¿«æ·é”®
            document.addEventListener('keydown', (e) => {
                switch(e.code) {
                    case 'Enter':
                        if (e.ctrlKey) {
                            e.preventDefault();
                            window.open('index.html', '_blank');
                        }
                        break;
                    case 'KeyT':
                        if (e.ctrlKey) {
                            e.preventDefault();
                            window.open('test.html', '_blank');
                        }
                        break;
                }
            });
        });
        
        // éŸ³é¢‘æ§åˆ¶ç»‘å®šå‡½æ•°
        function bindAudioControls(audio) {
            // ä¸»éŸ³é‡æ§åˆ¶
            const masterVolumeSlider = document.getElementById('masterVolume');
            const masterVolumeValue = document.getElementById('masterVolumeValue');
            
            masterVolumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.setMasterVolume(volume);
                masterVolumeValue.textContent = e.target.value + '%';
            });
            
            // éŸ³ä¹éŸ³é‡æ§åˆ¶
            const musicVolumeSlider = document.getElementById('musicVolume');
            const musicVolumeValue = document.getElementById('musicVolumeValue');
            
            musicVolumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.setMusicVolume(volume);
                musicVolumeValue.textContent = e.target.value + '%';
            });
            
            // éŸ³æ•ˆéŸ³é‡æ§åˆ¶
            const sfxVolumeSlider = document.getElementById('sfxVolume');
            const sfxVolumeValue = document.getElementById('sfxVolumeValue');
            
            sfxVolumeSlider.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                audio.setSFXVolume(volume);
                sfxVolumeValue.textContent = e.target.value + '%';
            });
            
            // éŸ³ä¹å¼€å…³
            const musicToggle = document.getElementById('musicToggle');
            musicToggle.addEventListener('change', (e) => {
                audio.toggleMusic(e.target.checked);
                updateMusicToggleStatus(e.target.checked);
            });
            
            // éŸ³æ•ˆå¼€å…³
            const sfxToggle = document.getElementById('sfxToggle');
            sfxToggle.addEventListener('change', (e) => {
                audio.toggleSFX(e.target.checked);
            });
            
            // åˆå§‹åŒ–éŸ³é¢‘è®¾ç½®
            initializeAudioSettings(audio);
        }
        
        // åˆå§‹åŒ–éŸ³é¢‘è®¾ç½®
        function initializeAudioSettings(audio) {
            // è®¾ç½®é»˜è®¤éŸ³é‡
            audio.setMasterVolume(0.3); // 30%
            audio.setMusicVolume(0.3);  // 30%
            
            // è®¾ç½®éŸ³ä¹ä¸ºå…³é—­çŠ¶æ€
            const musicToggle = document.getElementById('musicToggle');
            audio.toggleMusic(false);
            updateMusicToggleStatus(false);
        }
        
        // æ›´æ–°éŸ³ä¹å¼€å…³çŠ¶æ€æ˜¾ç¤º
        function updateMusicToggleStatus(enabled) {
            const musicToggle = document.getElementById('musicToggle');
            const musicLabel = musicToggle.nextElementSibling;
            
            if (enabled) {
                musicLabel.textContent = 'MUSIC ON';
                musicLabel.style.background = '#8bac0f';
                musicLabel.style.color = '#0f380f';
            } else {
                musicLabel.textContent = 'MUSIC OFF';
                musicLabel.style.background = '#306230';
                musicLabel.style.color = '#ffffff';
            }
        }
    </script>
</body>
</html>
